<div class="live-visitor-counter" style="text-align: center; padding: 15px 0; margin: 20px 0;">
  <style>
    .live-visitor-counter {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    
    .rapi-main-dot {
      width: 10px;
      height: 10px;
      background-color: #229907;
      border-radius: 50%;
      display: inline-block;
      position: relative;
      animation: pulse 2s infinite;
    }
    
    .rapi-main-dot::before,
    .rapi-main-dot::after {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 2px solid #229907;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      animation: ripple 2s infinite;
    }
    
    .rapi-main-dot::after {
      animation-delay: 1s;
    }
    
    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
        opacity: 1;
      }
      50% {
        transform: scale(1.1);
        opacity: 0.8;
      }
    }
    
    @keyframes ripple {
      0% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
      }
      100% {
        transform: translate(-50%, -50%) scale(2.5);
        opacity: 0;
      }
    }
    
    .live-visitor-text {
      font-size: 14px;
      color: #333;
      font-weight: 500;
    }
  </style>
  
  <div class="rapi-main-dot"></div>
  <span class="live-visitor-text" id="visitor-count"></span>
  
  <script>
    (function() {
      // Générer un nombre aléatoire entre 19 et 29
      function getRandomViewers() {
        return Math.floor(Math.random() * (29 - 19 + 1)) + 19;
      }
      
      // Générer un nombre unique par session (change à chaque visite)
      function getSessionViewers() {
        const sessionKey = 'purepaw_viewers_' + Date.now();
        let viewers = sessionStorage.getItem(sessionKey);
        
        if (!viewers) {
          viewers = getRandomViewers();
          // Nettoyer les anciennes clés
          Object.keys(sessionStorage).forEach(key => {
            if (key.startsWith('purepaw_viewers_')) {
              sessionStorage.removeItem(key);
            }
          });
          sessionStorage.setItem(sessionKey, viewers);
        }
        
        return viewers;
      }
      
      // Afficher le nombre
      const viewerCount = getSessionViewers();
      document.getElementById('visitor-count').textContent = 
        viewerCount + ' personnes regardent ce produit en ce moment';
    })();
  </script>
</div>
