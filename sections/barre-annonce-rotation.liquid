<style>
  .announcement-bar-fixed {
    background: {{ section.settings.background_color }} !important;
    padding: {{ section.settings.padding_top }}px 20px {{ section.settings.padding_bottom }}px !important;
    text-align: center !important;
    font-size: {{ section.settings.font_size }}px !important;
    font-weight: 700 !important; /* Texte plus gras */
    text-transform: uppercase !important; /* TOUT EN MAJUSCULES */
    position: relative !important;
    overflow: hidden !important;
    min-height: 45px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    line-height: 1.2 !important;
  }

  /* Force la couleur du texte */
  .announcement-bar-fixed,
  .announcement-bar-fixed span,
  .announcement-bar-fixed div {
    color: {{ section.settings.text_color }} !important;
    -webkit-text-fill-color: {{ section.settings.text_color }} !important;
  }

  .announcement-bar-content {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    flex-wrap: wrap !important;
    gap: 15px !important; /* Espace entre Livraison et Promo */
    width: 100% !important;
  }

  .announcement-group {
    display: inline-flex !important;
    align-items: center !important;
    gap: 8px !important;
    white-space: nowrap !important;
  }

  .announcement-icon {
    width: {{ section.settings.icon_size }}px !important;
    height: {{ section.settings.icon_size }}px !important;
    display: flex !important;
    align-items: center !important;
  }

  .announcement-icon svg {
    width: 100% !important;
    height: 100% !important;
    fill: {{ section.settings.text_color }} !important;
  }

  /* LE STYLE EXACT DE VOTRE CADRE TRANSPARENT */
  .announcement-code {
    font-weight: 800 !important;
    background: rgba(255, 255, 255, 0.4) !important; /* Transparence 40% */
    padding: 4px 12px !important;
    border-radius: 6px !important; /* Bords arrondis */
    margin-left: 8px !important;
    letter-spacing: 0.5px !important;
    /* On s'assure que le texte dedans reste bien blanc */
    color: #ffffff !important;
    -webkit-text-fill-color: #ffffff !important;
  }

  .announcement-separator {
     opacity: 0.6 !important;
  }

  @media screen and (max-width: 749px) {
    .announcement-bar-fixed {
      font-size: {{ section.settings.font_size_mobile }}px !important;
      padding: 10px 10px !important;
    }
    
    .announcement-bar-content {
      gap: 6px !important; /* Rapproche les éléments sur mobile */
      flex-direction: column !important; /* Empile proprement sur mobile */
      line-height: 1.5 !important;
    }

    .announcement-icon {
      width: {{ section.settings.icon_size_mobile }}px !important;
      height: {{ section.settings.icon_size_mobile }}px !important;
    }
    
    .announcement-separator {
      display: none !important; /* Cache le séparateur sur mobile */
    }
    
    .announcement-code {
       padding: 3px 10px !important;
       margin-left: 5px !important;
    }
  }
</style>

<div class="announcement-bar-fixed">
  <div class="announcement-bar-content">
    
    <div class="announcement-group">
      <span class="announcement-icon">
        <svg viewBox="0 0 640 512" xmlns="http://www.w3.org/2000/svg"><path d="M112 0C85.5 0 64 21.5 64 48V96H16c-8.8 0-16 7.2-16 16s7.2 16 16 16H64 272c8.8 0 16 7.2 16 16s-7.2 16-16 16H64 48c-8.8 0-16 7.2-16 16s7.2 16 16 16H64 240c8.8 0 16 7.2 16 16s-7.2 16-16 16H64 16c-8.8 0-16 7.2-16 16s7.2 16 16 16H64 208c8.8 0 16 7.2 16 16s-7.2 16-16 16H64V416c0 53 43 96 96 96s96-43 96-96H384c0 53 43 96 96 96s96-43 96-96h32c17.7 0 32-14.3 32-32s-14.3-32-32-32V288 256 237.3c0-17-6.7-33.3-18.7-45.3L512 114.7c-12-12-28.3-18.7-45.3-18.7H416V48c0-26.5-21.5-48-48-48H112zM544 237.3V256H416V160h50.7L544 237.3zM160 464a48 48 0 1 1 0-96 48 48 0 1 1 0 96zm368-48a48 48 0 1 1 -96 0 48 48 0 1 1 96 0z"/></svg>
      </span>
      <span>{{ section.settings.text_delivery }}</span>
    </div>

    <span class="announcement-separator">|</span>

    <div class="announcement-group">
      <span class="announcement-icon">
        <svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M190.5 68.8L225.3 128H224 152c-22.1 0-40-17.9-40-40s17.9-40 40-40h2.2c14.9 0 28.8 7.9 36.3 20.8zM64 88c0 14.4 3.5 28 9.6 40H32c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32H480c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32H438.4c6.1-12 9.6-25.6 9.6-40c0-48.6-39.4-88-88-88h-2.2c-31.9 0-61.5 16.9-77.7 44.4L256 85.5l-24.1-41C215.7 16.9 186.1 0 154.2 0H152C103.4 0 64 39.4 64 88zm336 0c0 22.1-17.9 40-40 40H288h-1.3l34.8-59.2C329.1 55.9 342.9 48 357.8 48H360c22.1 0 40 17.9 40 40zM32 288V464c0 26.5 21.5 48 48 48H224V288H32zM288 512H432c26.5 0 48-21.5 48-48V288H288V512z"/></svg>
      </span>
      <span>{{ section.settings.text_promo }}</span>
      <span class="announcement-code">{{ section.settings.promo_code }}</span>
    </div>

  </div>
</div>

{% schema %}
{
  "name": "Barre Annonce Fixe (Pro)",
  "settings": [
    {
      "type": "header",
      "content": "Couleurs"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Couleur de fond",
      "default": "#0A1E5E"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Couleur du texte",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Contenu (Sera mis en MAJUSCULES)"
    },
    {
      "type": "text",
      "id": "text_delivery",
      "label": "Texte livraison (Gauche)",
      "default": "LIVRAISON GRATUITE"
    },
    {
      "type": "text",
      "id": "text_promo",
      "label": "Texte promo (Droite)",
      "default": "-10% SUR VOTRE 1ÈRE COMMANDE CODE :"
    },
    {
      "type": "text",
      "id": "promo_code",
      "label": "Code promo (Dans le cadre)",
      "default": "BIENVENUE10"
    },
    {
      "type": "header",
      "content": "Taille et Espacement"
    },
    {
      "type": "range",
      "id": "font_size",
      "label": "Taille texte desktop",
      "min": 10,
      "max": 20,
      "step": 1,
      "default": 14,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "font_size_mobile",
      "label": "Taille texte mobile",
      "min": 8,
      "max": 16,
      "step": 1,
      "default": 11,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "icon_size",
      "label": "Taille icônes",
      "min": 10,
      "max": 30,
      "step": 1,
      "default": 18,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding Haut",
      "default": 12,
      "min": 0,
      "max": 50
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding Bas",
      "default": 12,
      "min": 0,
      "max": 50
    }
  ],
  "presets": [
    {
      "name": "Barre Annonce Fixe (Pro)"
    }
  ]
}
{% endschema %}