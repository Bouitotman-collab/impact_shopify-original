<style>
  .announcement-bar-single {
    background: {{ section.settings.background_color }} !important;
    padding: {{ section.settings.padding_top }}px 20px {{ section.settings.padding_bottom }}px !important;
    text-align: center !important;
    font-size: {{ section.settings.font_size }}px !important;
    font-weight: 600 !important;
    position: relative !important;
    overflow: hidden !important;
    min-height: 40px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    line-height: 1.2 !important;
  }

  /* Force la couleur du texte */
  .announcement-bar-single,
  .announcement-bar-single span {
    color: {{ section.settings.text_color }} !important;
    -webkit-text-fill-color: {{ section.settings.text_color }} !important;
  }

  .announcement-content {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    flex-wrap: wrap !important;
    gap: 10px !important;
    width: 100% !important;
  }

  /* LE STYLE DU CADRE TRANSPARENT */
  .announcement-code-box {
    font-weight: 700 !important;
    background: rgba(255, 255, 255, 0.4) !important; /* Transparence 40% */
    padding: 4px 12px !important;
    border-radius: 6px !important; /* Bords arrondis */
    letter-spacing: 0.5px !important;
    color: #ffffff !important; /* Le code reste bien blanc */
    -webkit-text-fill-color: #ffffff !important;
    white-space: nowrap !important;
  }

  @media screen and (max-width: 749px) {
    .announcement-bar-single {
      font-size: {{ section.settings.font_size_mobile }}px !important;
      padding: 10px 10px !important;
    }
    
    .announcement-code-box {
        padding: 3px 10px !important;
    }
  }
</style>

<div class="announcement-bar-single">
  <div class="announcement-content">
      <span>{{ section.settings.message_text }}</span>
      {% if section.settings.promo_code != blank %}
        <span class="announcement-code-box">{{ section.settings.promo_code }}</span>
      {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Barre Annonce Simple",
  "settings": [
    {
      "type": "header",
      "content": "Couleurs"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Couleur de fond",
      "default": "#0A1E5E"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Couleur du texte",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Contenu"
    },
    {
      "type": "text",
      "id": "message_text",
      "label": "Message",
      "default": "-10% suppl√©mentaire dans le panier avec le code"
    },
    {
      "type": "text",
      "id": "promo_code",
      "label": "Code (Dans le cadre)",
      "default": "BIENVENUE"
    },
    {
      "type": "header",
      "content": "Taille et Espacement"
    },
    {
      "type": "range",
      "id": "font_size",
      "label": "Taille texte desktop",
      "min": 12,
      "max": 30,
      "step": 1,
      "default": 16,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "font_size_mobile",
      "label": "Taille texte mobile",
      "min": 10,
      "max": 20,
      "step": 1,
      "default": 16,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding Haut",
      "default": 10,
      "min": 0,
      "max": 50
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding Bas",
      "default": 10,
      "min": 0,
      "max": 50
    }
  ],
  "presets": [
    {
      "name": "Barre Annonce Simple"
    }
  ]
}
{% endschema %}